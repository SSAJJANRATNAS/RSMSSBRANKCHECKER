<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalam Academy Quiz</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&family=Noto+Sans+Devanagari:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans Devanagari', 'Noto Sans', Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        .quiz-container {
            width: 90%;
            max-width: 800px;
            margin: 40px auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .quiz-header {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            margin-bottom: 20px;
        }

        .branding {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            height: 50px;
            width: 50px;
            border-radius: 8px;
            object-fit: cover;
            border: 2px solid #ddd;
        }

        .brand-text h2 {
            margin: 0;
            font-size: 1.2rem;
            color: #2575fc;
        }

        .brand-text .tagline {
            margin: 2px 0;
            font-size: 0.9rem;
            color: #555;
        }

        .brand-text .telegram {
            font-size: 0.85rem;
        }

        .brand-text .telegram a {
            color: #6a11cb;
            text-decoration: none;
            font-weight: bold;
        }

        .brand-text .telegram a:hover {
            text-decoration: underline;
        }

        #question {
            font-size: 1rem;
            margin-bottom: 15px;
            color: #000;
            white-space: pre-wrap;
        }
        
        .question-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.95rem;
        }

        .question-table th, .question-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        .question-table th {
            background-color: #f2f2f2;
            font-weight: 600;
        }

        .option {
            display: block;
            width: 100%;
            text-align: left;
            margin: 8px 0;
            padding: 0.7rem 1rem;
            background: #f9f9f9;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 0.95rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        .option:hover {
            background: #eaf3ff;
        }

        .option.selected {
            background: #d0e1ff;
            border-color: #2575fc;
        }

        .quiz-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
        }

        #submit-btn, #restart-btn, #prev-btn, #next-btn {
            background: #2575fc;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 0.6rem 1.2rem;
            font-size: 0.95rem;
            cursor: pointer;
            margin-left: 10px;
        }

        #submit-btn:hover, #restart-btn:hover, #prev-btn:hover, #next-btn:hover {
            background: #6a11cb;
        }
        
        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        .results-container {
            display: none;
            text-align: left;
        }

        .results-container h2, .results-container h3 {
            text-align: center;
        }

        .results-summary {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        .summary-item {
            width: 150px;
            background: #f9f9f9;
            border-radius: 6px;
            padding: 15px;
            margin: 10px;
            text-align: center;
        }

        .summary-item h3 {
            margin: 0 0 8px 0;
            font-size: 1rem;
            color: #333;
        }

        .summary-item p {
            font-size: 1.3rem;
            font-weight: bold;
        }

        /* Styles for the review section */
        #review-container {
            margin-top: 20px;
        }

        .review-item {
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 6px;
            border-left: 5px solid #ccc;
        }
        .review-item.correct {
            border-left-color: #28a745; /* green */
            background-color: #f0fff4;
        }
        .review-item.incorrect {
            border-left-color: #dc3545; /* red */
            background-color: #fff5f5;
        }
        .review-item h4 {
            margin-top: 0;
            font-size: 1rem;
            white-space: pre-wrap;
        }
        .review-item p {
            margin: 5px 0;
            font-size: 0.9rem;
        }
        .review-your-answer.incorrect-text {
            color: #dc3545;
            font-weight: bold;
        }
        .correct-answer-text {
            font-weight: bold;
            color: #28a745;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="quiz-header">
            <div class="branding">
                <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhsCRKTw5bUd2GNHFMPKl834utVgjdOOhlUJSnKDBw2MZPXIRTNlbDF1gUxd10IQQ63gW7BxO5oxsRoxJpG2a-Yqvh0t5Js__zsNB5RO4P4uRDnwoaXMXEbUxFh5NDeg9lY6RCChetgMsdBPvgtCuzyvurM0J7ZK9q4fRMfmU95yBwcaKKdwR1trVLB8TnJ/s1563/1000173352.png" alt="Institute Logo" class="logo">
                <div class="brand-text">
                    <h2 id="quiz-title">L1 Factory Academy</h2>
                    <p class="tagline">Factory which process L1 Teacher.</p>
                    <p class="telegram">
                        Join our Telegram: 
                        <a href="https://t.me/l1_factory_Academy" target="_blank">@l1_factory_Academy</a>
                    </p>
                </div>
            </div>
        </div>
        <div class="quiz-body">
            <div id="progress"></div>
            <h3 id="question">Question text</h3>
            <div id="options-container"></div>
        </div>
        <div class="quiz-footer">
            <div class="nav-buttons">
                <button id="prev-btn">Previous</button>
                <button id="next-btn">Next</button>
            </div>
            <button id="submit-btn">Submit</button>
            <button id="restart-btn" style="display:none;">Restart</button>
        </div>
        <div class="results-container" id="results">
            <h2>Results</h2>
            <div class="results-summary">
                <div class="summary-item score">
                    <h3>Total Score</h3>
                    <p id="total-score">0</p>
                </div>
                <div class="summary-item correct">
                    <h3>Correct</h3>
                    <p id="correct-answers">0</p>
                </div>
                <div class="summary-item incorrect">
                    <h3>Incorrect</h3>
                    <p id="incorrect-answers">0</p>
                </div>
                <div class="summary-item unanswered">
                    <h3>Unanswered</h3>
                    <p id="unanswered-questions">0</p>
                </div>
            </div>
            <div id="review-container">
                <hr>
                <h3>Review Answers</h3>
                <div id="review-answers-list"></div>
            </div>
             <div id="results-footer" style="text-align: center; margin-top: 20px;"></div>
        </div>
    </div>

    <script>
        const quizData = [
            // All 50 questions from the previous step are here
            { question: `कौनसी नदी 'वराह/लसावरी' नदी के उपनाम से जानी जाती है?`, options: ["रूपारेल", "रूपनगढ़", "साबी", "मेंढ़ा", "अनुत्तरित प्रश्न"], answer: 0 },
            { question: `निम्नलिखित वक्तव्यों पर विचार करें-\n* इस नदी का उदगम नया सानवारा नामक स्थान से होता है।\n* इस नदी पर स्वरूपगंज (सिरोही) में बनास बाँध बना हुआ है।\nउपर्युक्त विशेषताएँ किस नदी को इंगित करती है-`, options: ["माही", "पश्चिमी बनास", "साबरमती", "सीपू", "अनुत्तरित प्रश्न"], answer: 1 },
            { question: `चम्बल नदी के संदर्भ में निम्न कथनों पर विचार कर सत्य कूट की पहचान करें-\n* यह राजस्थान की सबसे लम्बी व एकमात्र बारहमासी नदी है।\n* यह चित्तौड़गढ़ से कोटा के मध्य एक संकड़े गॉर्ज से होकर बहती है।\n* उत्तर प्रदेश के मुरादगंज के निकट यह नदी यमुना नदी से मिलती है।\n* इस नदी पर जवाहर सागर बाँध केवल सिंचाई आपूर्ति हेतु निर्मित किया गया है।\nकूट :`, options: ["केवल 1, 2 व 4", "केवल 1, 2 व 3", "केवल 3 व 4", "केवल 1 व 2", "अनुत्तरित प्रश्न"], answer: 1 },
            { question: `निम्नलिखित में कौनसा युग्म (नदी-सहायक नदी) सही सुमेलित नहीं है-`, options: ["मेज-घोड़ा पछाड़", "बेडच-ओराई", "सोम-सीपू/सकली", "माही-हरण", "अनुत्तरित प्रश्न"], answer: 2 },
            { question: `लूनी नदी के संदर्भ में असत्य कथन का चुनाव कीजिए-`, options: ["यह अपने उद्गम स्थल पर सागरमती के नाम से जानी जाती है।", "इस नदी बेसिन की पूरी सीमा 'काला भूरा-डूंगर' है।", "यह राज्य के कुल अपवाह का 8.4% भाग रखती है।", "जोधपुर में इस नदी पर पिचियाक बांध बना हुआ है।", "अनुत्तरित प्रश्न"], answer: 2 },
            { question: "सूची-I को सूची-II से सुमेलित कीजिए और सही कूट का चयन करें:", isTable: true, tableData: { headers: ["सूची-I (नदी)", "सूची-II (उद्गम स्थल)"], rows: [ ["(A) बाणगंगा", "(1) बागली गाँव, देवास"], ["(B) कोठारी", "(2) मेहंद झील, अमरोरू"], ["(C) माही", "(3) दिवेर की पहाड़ियाँ"], ["(D) कालीसिंध", "(4) बैराठ की पहाड़ियाँ"] ] }, options: ["A-1, B-2, C-3, D-4", "A-4, B-3, C-2, D-1", "A-4, B-2, C-1, D-3", "A-4, B-3, C-1, D-2"], answer: 1 },
            { question: `राजमहल (टोंक) के निकट त्रिवेणी संगम निर्मित करने वाली नदियों के उपयुक्त समुच्चय की पहचान करें-`, options: ["बेडच, गंभीरी, कोठारी", "चम्बल, बनास, सीप", "बनास, बेडच, मेनाल", "बनास, डाई, खारी", "अनुत्तरित प्रश्न"], answer: 3 },
            { question: `दक्षिणी-पूर्वी पठारी प्रदेश स्थित 'त्रिकोणीय कृषि बेसिन' का निर्माण करने वाली नदियों के उपयुक्त समुच्चय का चयन करें?`, options: ["चम्बल, बनास व सीप", "परवन, पार्वती व निवाज", "चंबल, कालीसिंध व पार्वती", "कालीसिंध, आहू व गोमती", "अनुत्तरित प्रश्न"], answer: 2 },
            { question: `निम्नलिखित नदियों में जलग्रहण क्षेत्र का सही अवरोही क्रम क्या है?\n1. बनास\n2. माही\n3. लूनी\n4. बाणगंगा\nनीचे दिए गये कूट का उपयोग करके सही उत्तर चुनें-`, options: ["1, 3, 2, 4", "1, 2, 3, 4", "4, 2, 3, 1", "2, 1, 4, 3", "अनुत्तरित प्रश्न"], answer: 0 },
            { question: `“नाडा” क्या है?`, options: ["पश्चिमी राजस्थान में आधुनिक जल सरंक्षण तकनीक।", "गोचरभूमि क्षेत्र में बालूका स्तूपों के मध्य की निम्न भूमि।", "जल के बहाव के मार्ग में वर्षा जल संग्रहण हेतु बनाया गया कुण्ड।", "शेखावाटी के अन्तःप्रवाही क्षेत्र में निर्मित कच्चे जल स्त्रोत।", "अनुत्तरित प्रश्न"], answer: 0 },
            { question: `निम्नलिखित में से सांभर झील में गिरने वाली प्रमुख जलधाराऐं है-\nक. खारी\nख. रूपनगढ़\nग. मेंथा\nघ. खण्डेल\nकूट`, options: ["केवल 3 व 4", "केवल 2 व 3", "1, 2, 3 व 4", "केवल 1 व 4", "अनुत्तरित प्रश्न"], answer: 2 },
            { question: `निम्नलिखित (झील-अवस्थिति) में से सही सुमेलित युग्म की पहचान कीजिए -`, options: ["अनूप सागर - जैसलमेर", "मांडलताल - झालावाड़", "सरदार समन्द - जोधपुर", "गैब सागर - डूंगरपुर", "अनुत्तरित प्रश्न"], answer: 3 },
            { question: `पचपदरा झील के सन्दर्भ में निम्न वक्तव्यों पर विचार कर असत्य की पहचान करें-\nI. इस झील के नमक के क्रिस्टल बनाने के लिए मोथिया झाड़ी की टहनियों का प्रयोग करते है।\nII. इससे उत्तम श्रेणी का नमक तैयार होता है।\nकूट-`, options: ["केवल I", "केवल II", "I व II दोनों", "न तो I व न ही II", "अनुत्तरित प्रश्न"], answer: 0 },
            { question: `निम्नलिखित में से किस झील से सिंचाई हेतु श्यामपुरा व भाट नहरें निकाली गई है?`, options: ["फोय-सागर", "पुष्कर", "जयसमन्द", "पिछोला", "अनुत्तरित प्रश्न"], answer: 2 },
            { question: `महाराजा विनय सिंह द्वारा निर्मित झील जो वर्तमान में 'लेक पैलेस होटल' के रूप में संचालित है-`, options: ["मानसागर", "सिलीसेढ़", "मावठा", "नघ्रताल", "अनुत्तरित प्रश्न"], answer: 1 },
            { question: `निम्नलिखित में से कौनसा सुमेलित नहीं है?`, options: ["लहासी बाँध - बूँदी", "सावन भादो बाँध - कोटा", "ओराई बाँध - चित्तौड़गढ़", "अजान बाँध - भरतपुर", "अनुत्तरित प्रश्न"], answer: 0 },
            { question: `'हकरा' क्या है?`, options: ["काँतली नदी का बेसिन", "रूपनगढ़ नदी का उपनाम", "एक लवणीय झील", "घग्घर नदी का अपवाह क्षेत्र", "अनुत्तरित प्रश्न"], answer: 3 },
            { question: `निम्न में से जसवंत सागर बाँध किस तहसील में स्थित है?`, options: ["बीगोंद", "बिलाड़ा", "सरवाड़ा", "सुमेरपुर", "अनुत्तरित प्रश्न"], answer: 1 },
            { question: `ढोला मारू रा दूहा किस प्रकार का काव्य है?`, options: ["लौकिक काव्य", "ख्यात काव्य", "सामाजिक काव्य", "धार्मिक काव्य", "अनुत्तरित प्रश्न"], answer: 0 },
            { question: `निम्नलिखित में से (लेखक व रचना) कौनसा युग्म सही सुमेलित नहीं है-`, options: ["जसवंत सिंह - भाषा भूषण", "वीरभाण - वीरमायण", "श्यामलदास - वीरविनोद", "ईसरदास - हरिदास", "अनुत्तरित प्रश्न"], answer: 1 },
            { question: `निम्न में से महाराजा सूरजमल के युद्धों का वर्णन किस कृति में वर्णित है?`, options: ["सुजान लावणी", "सुजाण चरित्र", "सूदन", "नेह तरंग", "अनुत्तरित प्रश्न"], answer: 1 },
            { question: `निम्न में से मध्यकालीन जैन साहित्य की रचना 'पिंगल शिरोमणि' के लेखक है?`, options: ["कुशललाभ", "कवि छींदल", "समय सुंदर", "हेमपाल सुरि", "अनुत्तरित प्रश्न"], answer: 0 },
            { question: `निम्न में से कौनसी एक रचना पृथ्वीराज राठौड़ की नहीं है?`, options: ["हरिरस", "गंगा लहरी", "वेलि क्रिसन रुकमणि री", "दसम भागवत रा दूहा", "अनुत्तरित प्रश्न"], answer: 0 },
            { question: `मध्यकालीन संत साहित्यिक रचना 'परमार्थ प्रसंग' के लेखक है-`, options: ["नाभादास", "दीन दरवेस", "खेमदास", "दयालदास", "अनुत्तरित प्रश्न"], answer: 1 },
            { question: `कुसुम योजना के संदर्भ में निम्नलिखित कथनों पर विचार कीजिए-\nA. कृषि विभाग द्वारा संचालित यह योजना वर्तमान में राज्य सरकार का एक फ्लेगशिप कार्यक्रम है।\nB. इसमें “घटक ए” के तहत स्वतंत्र रूप से 2 मेगावाट तक के सौर ऊर्जा संयंत्रों की स्थापना की जाती है।\nउपर्युक्त कथनों में सत्य कथन कौनसा/से है-`, options: ["केवल A", "केवल A व B", "केवल B", "न तो A व न ही B", "अनुत्तरित प्रश्न"], answer: 2 },
            { question: `राजस्थान सरकार के फ्लेगशिप कार्यक्रमों में शामिल निम्न योजनाओं में से कौनसी योजना पंचायती राज विभाग द्वारा संचालित नहीं है?`, options: ["स्वच्छ भारत मिशन ग्रामीण", "मुख्यमंत्री जल स्वावलंबन अभियान 2.0", "अटल ज्ञान केन्द्र", "प्रधानमंत्री ग्राम सड़क योजना", "अनुत्तरित प्रश्न"], answer: 3 },
            { question: `बर्तन बैंक योजना के संबंध में निम्नलिखित कथनों पर विचार कीजिए-\nA. बजट घोषणा 2025-26 की अनुपालना में बर्तन बैंक योजना की शुरूआत राज्य सरकार द्वारा 12 अप्रैल 2025 को बारां जिले से की गई।\nB. इसके अन्तर्गत प्रथम चरण में एक हजार ग्राम पंचायतों को बर्तन सेट खरीदने हेतु दो-दो लाख रुपये उपलब्ध करवाए जाएंगे।\nउपर्युक्त कथनों में से कौनसा/से कथन सत्य नहीं है-`, options: ["केवल A", "केवल A व B", "केवल B", "न तो A व न ही B", "अनुत्तरित प्रश्न"], answer: 2 },
            { question: `राजस्थान पुलिस के 76वें स्थापना दिवस समारोह के दौरान घोषित 350 करोड़ के लागत वाला “सरदार पटेल सेंटर फॉर साइबर कंट्रोल एण्ड वार रूम” कहाँ स्थापित किया जाएगा?`, options: ["पुलिस मुख्यालय, जयपुर", "पुलिस कमिश्नरेट, जोधपुर", "पुलिस रेंज, अजमेर", "पुलिस रेंज, बीकानेर", "अनुत्तरित प्रश्न"], answer: 0 },
            { question: `विश्व स्वास्थ्य दिवस के अवसर पर आयोजित निरामय राजस्थान अभियान के संदर्भ में कौनसा कथन असत्य है-`, options: ["यह अभियान चिकित्सा एवं स्वास्थ्य विभाग द्वारा आयोजित किया गया।", "इसका आयोजन सीतापुरा, जयपुर में किया गया।", "इसके तहत टाइप-1 डायबीटीज हेतु मिशन मधुहारी शुरू की गई।", "इस अभियान का उद्देश्य प्रदेश के नागरिकों को बेहतर चिकित्सा एवं स्वास्थ्य सुविधाएं प्रदान करना था।", "अनुत्तरित प्रश्न"], answer: 1 },
            { question: `31 मार्च 2025 को जारी हुई राजस्थान लॉजिस्टिक्स पॉलिसी का नोडल विभाग कौनसा है?`, options: ["सड़क परिवहन विभाग", "उद्योग एवं वाणिज्य विभाग", "एमएसएमई विभाग", "सार्वजनिक निर्माण विभाग", "अनुत्तरित प्रश्न"], answer: 1 },
            { question: `'सच्छास्त्र' का संधि विच्छेद है-`, options: ["सत् + शास्त्र", "सत् + छात्र", "सत् + शास्त्र", "सत् + छास्त्र", "अनुत्तरित प्रश्न"], answer: 2 },
            { question: `'यण् संधि' को दर्शाने वाला शब्द है-`, options: ["अंत्योदय", "यथेष्ट", "सख्यागमन", "स्वैच्छिक", "अनुत्तरित प्रश्न"], answer: 2 },
            { question: `'वध्वागमन' का संधि विच्छेद होगा-`, options: ["वधु + आगमन", "वधू + अगमन", "वधू + आगमन", "वधु + गमन", "अनुत्तरित प्रश्न"], answer: 2 },
            { question: `स्वर संधि के भेद हैं-`, options: ["दो", "तीन", "चार", "पाँच", "अनुत्तरित प्रश्न"], answer: 3 },
            { question: `किस विकल्प में सभी शब्द शुद्ध हैं?`, options: ["इन्द्रा, आर्द्र", "संश्लिष्ट, आशीष", "स्तनपान, मतलब", "निरलम्ब, जुकाम", "अनुत्तरित प्रश्न"], answer: 1 },
            { question: `'आशीर्वाद' का शुद्ध रूप है-`, options: ["आशिर्वाद", "आर्शीवाद", "आशीर्वाद", "आर्शिवाद", "अनुत्तरित प्रश्न"], answer: 2 },
            { question: `अशुद्ध शब्द है-`, options: ["दृश्य", "श्रृंगार", "रिमझिम", "अन्तर्गत", "अनुत्तरित प्रश्न"], answer: 1 },
            { question: `शुद्ध शब्द है-`, options: ["बुद्धिमति", "इकाईयाँ", "नवरात्रि", "मरूद्यान", "अनुत्तरित प्रश्न"], answer: 3 },
            { question: `इनमें कौनसा संधि शब्द सही नहीं है?`, options: ["गति + अवरोध : गत्यवरोध", "प्रति + उत्तर : प्रत्यूत्तर", "कटु + उक्ति : कटूक्ति", "गो + एषणा : गवेषणा", "अनुत्तरित प्रश्न"], answer: 1 },
            { question: `किस विकल्प में अशुद्ध शब्द है?`, options: ["आखरी", "वयोवृद्ध", "जुलूस", "भागीरथी", "अनुत्तरित प्रश्न"], answer: 0 },
            { question: `Which of the following is not a part of Principle of Selction?`, options: ["Availability", "Teachability", "Learnability", "Popularity", "Question not attempted"], answer: 3 },
            { question: `‘How easily the instructor can explain or teach something’ refers to Principle of -`, options: ["Learnability", "Teachability", "Coverage", "Range", "Question not attempted"], answer: 1 },
            { question: `The principle of ‘Learnability’ means that we select -`, options: ["Words or phrases that are easy for the learners to learn at their present level.", "Only grammatical rules.", "Similar situational words.", "Complex structures", "Question not attempted"], answer: 0 },
            { question: `The principle of Frequency suggests that we should select words or structures that –`, options: ["easy to spell", "used in real communication repeatedly.", "used on special occasion or specific situation.", "are very unique and hardly used in colloquial language.", "Question not attempted"], answer: 1 },
            { question: `Which of the following is a base of the Selection of the language material according to the numbers of the situation a word can be used?`, options: ["Frequency", "Range", "Learnability", "Teachability", "Question not attempted"], answer: 1 },
            { question: `Pick out the pair which falls under the category of expressive or productive language skills:`, options: ["listening, speaking", "reading, writing", "listening, writing", "speaking, writing.", "Question not attempted"], answer: 3 },
            { question: `Which of the following pairs is usually described as receptive skills?`, options: ["Listening, speaking", "Reading, writing", "Listening, reading", "Speaking, writing.", "Question not attempted"], answer: 2 },
            { question: `Which of the following plays the basic role in learning a mother tongue?`, options: ["Motivation", "Naturalness", "Habit formation", "Purpose", "Question not attempted"], answer: 1 },
            { question: `‘Leading from simple to complex’ is used in the principles of:`, options: ["Gradation", "Habit formation", "Controlled vocabulary", "Follow the natural way", "Question not attempted"], answer: 0 },
            { question: `Which of the following statement is incorrect?`, options: ["The principle of gradation means simplifying the matter.", "Principle of teaching make teaching successful.", "Student’s attention is not primarily focused.", "The principle of gradation is concerned with the presentation of subject matter.", "Question not attempted"], answer: 2 }
        ];

        let currentQuestionIndex = 0;
        let userAnswers = new Array(quizData.length);
        const questionEl = document.getElementById("question");
        const optionsContainer = document.getElementById("options-container");
        const progressEl = document.getElementById("progress");
        const submitBtn = document.getElementById("submit-btn");
        const restartBtn = document.getElementById("restart-btn");
        const prevBtn = document.getElementById("prev-btn");
        const nextBtn = document.getElementById("next-btn");
        const resultsContainer = document.getElementById("results");
        const quizBody = document.querySelector(".quiz-body");
        const quizFooter = document.querySelector(".quiz-footer");

        function loadQuestion() {
            const currentQuestion = quizData[currentQuestionIndex];
            
            if (currentQuestion.isTable) {
                let tableHTML = `<p>${currentQuestion.question}</p>`;
                tableHTML += '<table class="question-table"><thead><tr>';
                currentQuestion.tableData.headers.forEach(header => {
                    tableHTML += `<th>${header}</th>`;
                });
                tableHTML += '</tr></thead><tbody>';
                currentQuestion.tableData.rows.forEach(row => {
                    tableHTML += '<tr>';
                    row.forEach(cell => {
                        tableHTML += `<td>${cell}</td>`;
                    });
                    tableHTML += '</tr>';
                });
                tableHTML += '</tbody></table>';
                questionEl.innerHTML = tableHTML;
            } else {
                questionEl.innerText = currentQuestion.question;
            }

            optionsContainer.innerHTML = "";
            currentQuestion.options.forEach((opt, index) => {
                const btn = document.createElement("button");
                btn.innerText = opt;
                btn.classList.add("option");
                if(userAnswers[currentQuestionIndex] === index) {
                    btn.classList.add("selected");
                }
                btn.addEventListener("click", () => selectOption(index));
                optionsContainer.appendChild(btn);
            });
            progressEl.innerText = `Question ${currentQuestionIndex + 1} of ${quizData.length}`;
            updateNavButtons();
        }

        function selectOption(index) {
            userAnswers[currentQuestionIndex] = index;
            const options = optionsContainer.querySelectorAll('.option');
            options.forEach((btn, i) => {
                if(i === index) {
                    btn.classList.add("selected");
                } else {
                    btn.classList.remove("selected");
                }
            });
        }
        
        function updateNavButtons() {
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = currentQuestionIndex === quizData.length - 1;
        }

        function showResults() {
            let score = 0;
            let correctCount = 0;
            let incorrectCount = 0;
            quizData.forEach((q, idx) => {
                if(userAnswers[idx] === q.answer) {
                    score += 2;
                    correctCount++;
                } else if(userAnswers[idx] !== undefined && userAnswers[idx] !== null) {
                    score -= 2/3;
                    incorrectCount++;
                }
            });
            const unanswered = quizData.length - (correctCount + incorrectCount);
            document.getElementById("total-score").innerText = score.toFixed(2);
            document.getElementById("correct-answers").innerText = correctCount;
            document.getElementById("incorrect-answers").innerText = incorrectCount;
            document.getElementById("unanswered-questions").innerText = unanswered;

            // --- REVIEW ANSWERS LOGIC ---
            const reviewListEl = document.getElementById("review-answers-list");
            reviewListEl.innerHTML = ""; 

            quizData.forEach((q, idx) => {
                const userAnswerIndex = userAnswers[idx];
                const correctAnswerIndex = q.answer;
                const isCorrect = userAnswerIndex === correctAnswerIndex;
                const isAnswered = userAnswerIndex !== undefined && userAnswerIndex !== null;
                
                let statusClass = isAnswered ? (isCorrect ? 'correct' : 'incorrect') : 'unanswered';
                
                let reviewItemHTML = `<div class="review-item ${statusClass}">`;

                let questionTextHTML = `<h4>Q${idx + 1}: ${q.question}</h4>`;
                if(q.isTable){
                    let tableHTML = '<table class="question-table"><thead><tr>';
                    q.tableData.headers.forEach(header => { tableHTML += `<th>${header}</th>`; });
                    tableHTML += '</tr></thead><tbody>';
                    q.tableData.rows.forEach(row => {
                        tableHTML += '<tr>';
                        row.forEach(cell => { tableHTML += `<td>${cell}</td>`; });
                        tableHTML += '</tr>';
                    });
                    tableHTML += '</tbody></table>';
                    questionTextHTML += tableHTML;
                }
                reviewItemHTML += questionTextHTML;

                let yourAnswerText = "Not Answered";
                let yourAnswerClass = "";
                if(isAnswered){
                    yourAnswerText = q.options[userAnswerIndex];
                    if(!isCorrect){
                       yourAnswerClass = "incorrect-text";
                    }
                }
                reviewItemHTML += `<p class="review-your-answer ${yourAnswerClass}">Your Answer: ${yourAnswerText}</p>`;
                
                if (!isCorrect) {
                     reviewItemHTML += `<p class="correct-answer-text">Correct Answer: ${q.options[correctAnswerIndex]}</p>`;
                }

                reviewItemHTML += `</div>`;
                reviewListEl.innerHTML += reviewItemHTML;
            });

            quizBody.style.display = "none";
            quizFooter.style.display = "none";
            resultsContainer.style.display = "block";
            
            const resultsFooterEl = document.getElementById('results-footer');
            resultsFooterEl.innerHTML = '';
            resultsFooterEl.appendChild(restartBtn);
            restartBtn.style.display = "inline-block";
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            userAnswers = new Array(quizData.length);
            quizBody.style.display = "block";
            quizFooter.style.display = "flex";
            resultsContainer.style.display = "none";
            quizFooter.appendChild(restartBtn);
            restartBtn.style.display = "none";
            loadQuestion();
        }
        
        prevBtn.addEventListener("click", () => {
            if(currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        });
        
        nextBtn.addEventListener("click", () => {
            if(currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            }
        });

        submitBtn.addEventListener("click", () => {
             if(confirm('Are you sure you want to submit the quiz?')) {
                showResults();
            }
        });
        
        restartBtn.addEventListener("click", restartQuiz);

        loadQuestion();
    </script>
</body>
</html>
